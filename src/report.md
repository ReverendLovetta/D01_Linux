# Установка и обновления системы Linux. Основы администрорования.
---
## Part 1. Уcтановка ОС
---
- Узнаем версию Ubuntu через команду: `cat /etc/issue`
- ![Вывод команды `cat/etc/issue`:](./screenshots/1.png "Вывод команды `cat/etc/issue`")
---
## Part 2. Создание польлзователя
---
- Добавим нового пользователя с помощью команды `sudo useradd -m lev` и добавим его в группу adm с помощью команды: `sudo usermod -aG adm lev`:
- ![Команда для создания пользователя `sudo useradd -m lev` и добавление его в группу adm `sudo usermod -aG adm lev`:](./screenshots/2.png "Создание нового пользователя и добавление его в группу adm")

- Проверим, что пользователь добавлен в группу adm с помощью команды `cat /etc/passwd`:
- ![Результат команды `cat /etc/passwd`:](./screenshots/3.png "Результат команды `cat /etc/passwd`")
---
## Part 3. Настройка сети ОС
---
-Зададим название машины вида user-1. Для этого изменим содержимое файла `/etc/hostname`. И проверим изменение командой: `uname -n`:
- ![Проверка изменения наздвания хоста машины:](./screenshots/4.png "Новое имя хоста машины")
- Далее установим временную зону, соответствующую своему текущему местополежению:
- Для этого воспользуемся командой: `sudo timedatectl set-timezone Europe/Moscow`
- ![Проверим установку временной зоны командой `timedatectl`:](./screenshots/5.png "Установка новой временной зоны")
- Далее с помощью команды `ip a` выведем все сетевые интерфейсы:
- ![`ip a`](./screenshots/6.png "Сетевые интерфейсы")
- Дадим объяснение для чего нужен интерфейс lo:
- lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost.
- С помощью команды `ip a` узнаем выданный при загрузки системы ip адрес для локальной машины:
- ![`ip a`:](./screenshots/7.png "ip адрес виртуальной машины")
- Дадим расшифровку DHCP:
- англ. Dynamic Host Configuration Protocol — протокол динамической настройки узла
- С помощью команды `ip r` выведем выведем внутренний ip-адрес:
- ![Результат команды `ip r`:](./screenshots/8.png "Внутренний ip-адрес шлюза")
- Зададим статические настройки ip, gw, dns:
- Для этого изменим файл `/etc/netplan/00-installer-config.yaml`:
- ![Откроем файл для изменения: `sudo vim /etc/netplan/00-installer-config.yaml` И пропишем следующие настройки:](./screenshots/9.png "Настройка сети")
- addresses - мой ip-адрес
- gateway4 - шлюз (мой маршрутизатор)
- nameservers - dns сервера ...
- После перезагрузки видим изменненные адреса:
- ![Результат команды `ip r`:](./screenshots/10.png "Измененные адреса")
- Пропингуем удаленные хосты 1.1.1.1 и ya.ru:
- Пингуем с помощью команды: `ping адрес`:
- ![Пингуем с помощью команды `ping`](./screenshots/11.png)
---
## Part 4. Обновление ОС
---
- С помощью команды `sudo apt update` обновим индексы репозиториев для пакетов:
- ![`sudo apt update`:](./screenshots/12.png "Обновляем индексы")
- С помощью команды `sudo apt dist-upgrade` обновим системные пакеты:
- ![Результат повторного ввода команды `sudo apt dist-upgreade`](./screenshots/13.png "Обновление системных пакетов")
---
## Part 5. Использование команды **sudo**
---
- С помощью команды `sudo usermod -aG sudo lev` добавим пользователя lev в группу sudo:
- ![Проверим, что пользователь lev находится в группе sudo: (Для этого используем команду `id lev`)](./screenshots/14.png)
- Поменяем hostname ОС от имени пользователя lev: 
- Для этого зайдем через пользователя lev
- Через команду `sudo hostnamectl set-hostname user-2` установим новое имя машины:
- ![Новое имя машины:](./screenshots/15.png)
---
## Part 6. Установка и настрйока службы времени
---
- Чтобы каждый раз не настраивать время, необходимо настроить службу синхронизации времени. 
- Для этого установим синхронизатор времени NTP:
- Для этого введем: `sudo apt install NTP`.
- После этого откроем файл `vim /etc/ntp.conf` и запишем в него следующее:
- ![содержимое файла ntp.conf:](./screenshots/16.png)
- Раскоментируем строки в файле `vim /etc/systemd/timesyncd.conf`:
- ![](./screenshots/17.png)
- Удалим файлы конфигурации ntp с помощью команды `sudo apt purge ntp`
- После этого выполним следующие команды для настройки ntp: `sudo timedatectl set-ntp true` и `sudo systemctl start systemd-timesyncd`
- После этого проверим, что служба ntp синхронизировалась с помощью команды `timedatectl show`:
- ![Результат команды `timedatectl show`:](./screenshots/18.png)
---
## Part 7. Установка и использование текстовых редакторов
---
- Установим текстовые редакторы: vim, nano, joe.
- С помощью редактора vim создадим файл, и запишем туда свой никнейм:
- ![С помощью команды `vim test_vim.txt` создадим файл и запишем в него свой никнейм](./screenshots/19.png)
- Чтобы закрыть файл и сохранить содержимое, выйдем из режима вставки с помощью `esc`, затем нажмем `:` и введем `wq`.
- Содержимое файла test_vim.txt:
- ![](./screenshots/20.png)
- С помощью редактора nano создадим файл, и запишем туда свой никнейм:
![С помощью команды `nano test_nano.txt` создадим файл и запишем в него свой никнейм](./screenshots/21.png)
- Чтобы закрыть файл и сохранить содержимое, нажмем `ctrl` + `o`, `enter` затем нажмем `ctrl` + `x`.
- Содержимое файла tets_nano.txt:
- ![](./screenshots/22.png)
- С помощью редактора joe создадим файл, и запишем туда свой никнейм:
![С помощью команды `joe test_joe.txt` создадим файл и запишем в него свой никнейм](./screenshots/23.png)
- Чтобы закрыть файл и сохранить содержимое, нажмем `ctrl` + `K` + `X`.
- Содержимое файла tets_joe.txt:
- ![](./screenshots/24.png)
- Теперь в эти же файлы с помощью этих же редакторов внесем изменения: вместо никнейма напишем s21 School 21, однако закроем их без сохранения изменений:
- для vim:
- ![Замена никнейма на 21 School 21:](./screenshots/25.png)
- Для того чтобы выйти из vim без сохранения изменений: выйдем из режима вставки с помощью `esc`, затем нажмем `:` и введем `q!`.
- Содержимое файла после выхода из программы:
- ![](./screenshots/26.png)
- для nano:
- ![Замена никнейма на 21 School 21:](./screenshots/27.png)
- Для того чтобы выйти из редактирования без сохранения нажмем `ctrl` + `x` и выберем пункт `no`.
- Содержимое файла test_nano.txt:
- ![](./screenshots/28.png)
- для joe:
- ![Замена никнейма на 21 School 21:](./screenshots/29.png)
- Для того, чтобый выйти из joe без сохранения нажмем: `ctrl` + `c` после чего `y` и `enter`
- Содержимое файла test_joe.txt:
- ![](./screenshots/30.png)
- Далее отредактируем файлы еще раз по предыдущему принципу, а затем продемонстрируем функции поиска и замены слов для каждого редактора:
- для vim: 
- Откроем и отредактируем файл:
- ![test_vim.txt:](./screenshots/31.png)
- Найдем строку School с помощью: выйдя из режима редактирования, нажмем `/` и напишем искомое слово `School`:
- ![поиск vim](./screenshots/32.png)
- Для замены слова используем: `:s/School/reverend` - заменит первое вхождение строки. Если необходимо заменить сразу все слова: `:s/School/reverend/g`.
- ![](./screenshots/33.png)
- для nano:
- Откроем и отредактируем файл:
- ![test_nano.txt](./screenshots/34.png)
- Для того чтобы выполнить поиск по файлу нажмем сочетание `ctrl` + `w`:
- ![](./screenshots/35.png)
- Для того чтобы выполнить поиск с заменой слова нажмем сочетание `ctrl` + `\`, введем слово которое хотим заменить, нажмем `enter`, введем слова на которое хотим заменить, нажмем `enter` после чего у нас будет выбор заменить только одно слово или все и нажимаем `y`
- ![](./screenshots/36.png)
- joe:
- Откроем файл и отредактируем его:
- ![test_joe.txt](./screenshots/37.png)
- Для того, чтобы найти слово, воспользуемся сочетанием: `ctrl` + `K` + `F`, после чего будет запрошен образец поиска, после ввода нажмите `enter`, затем ввести опцию поиска `enter`
- ![](./screenshots/38.png)
- если во время поиска вместо второго нажития `enter` ввести параметр `r` и ввести слово, после чего нажать `enter` и ввести `y`, будет произведена замен на это слово.
- ![](./screenshots/39.png)
---
## Part 8. Установка и базовая настройка сервиса **SSHD**
---
